<html>
    <head>
        <title>helloword!</title>
        <script type="text/javascript">
            /** 
             * 函数
             *  - 函数也是对象
             *  - 函数可以封装代码，在需要时可以执行这个代码
             */

            //创建一个函数对象
            /**
             * 使用构造函数创建一个函数
             * - 可以将要封装的代码以字符串的形式传递给构造函数
             * - 封装到函数中的代码不会立刻执行，在函数被调用的时候才会执行
             * - 可以使用"函数名()"的方法调用函数，函数中的代码在函数被调用的时候执行
             * - 一般不使用这样的方法来创建函数
             */
            
            var fun = new Function("console.log('我是fun');");
            //console.log(typeof fun);
            fun();
            /**
             * 使用函数声明来创建一个函数
             * 语法：
             *      function 函数名([形参1,形参2,形参3...形参N]){
             *          语句...
             *      }
             * 
             */
            function fun1(){
                console.log("我是fun1");
            }
            fun1();

            /**
             * 使用函数表达式来创建一个函数
             * 语法：
             *      var 函数名 = function([形参1,形参2,形参3...形参N]){
             *              语句...
             *          } 
             * 
             */
            var fun2 = function (){
                console.log("我是fun2");
            }

            fun2();

            // 函数的参数
            /**
             * 定义一个求两个函数和的函数 
             * 可以在函数的()中指定一个或者多个参数
             */
            function sum(a, b){
                console.log(a + b);
            }

            /**
             * 调用函数时解析器不会检查函数形参的类型
             * 所以可能收到非法的数据，需要对参数进行检查
             */
           sum(2,4); // 6
           sum(2,"hello"); //2hello
           sum(false,3); // 3
           sum(false, "hello"); // falsehello

            /**
             * 解析器也不会检查实参的数量 
             * 多余的实参不会被赋值
             * 如果实参的数量少于形参的数量，则没有对应的形参将会是undefined
             */
            sum(12,434,"hello"); // 446
            sum(34); // NaN

            //函数的返回值
            /**
             * - 可以使用return返回函数的计算结果
             *   语法： return 返回值
             * - 在函数中，return之后的语句都不会执行后不跟任何值 或者 函数中没有return 
             *  相当于返回undefined
             */
            function sum1(a, b, c){
                return a + b + c;
            }
            console.log(sum1(2, 4, 5)); //11

            /**
             * 练习：定义一个函数，用来检查一个数字是否是偶数 
             */
            function isOu(a){
                // if(a % 2 == 0){
                //     return true;
                // } else {
                //     return false;
                // }
                return a % 2;
            }
            console.log(isOu(3)); //0

            /**
             * 函数的参数可以是对象Object
             */
            
            function getName(obj){
                return obj.name;
            }
            var obj = {
                name:"sun",
                age:18,
                gender:"男"
            }
            console.log(getName(obj)); // sun
            
            /**
             * 函数也是对象，所以函数也可以作为函数的参数 
             */
            function fun4(getName){
                return getName(obj); // obj是一层一层向上寻找得到的，JS没有作用域的概念
            }
            fun4(getName); // sun

            /**
             * 将匿名函数作为实参传递给函数  
             */
            function fun5(fun){
                fun();
            }
            fun5(function(){alert("hello");});

            /**
             * 同理，函数的返回值可以是任意值，包括对象、函数 
             */
            function fun6(){
                function fun7(){
                    document.write("我是fun7");
                }
                return fun7;
            }
            var a = fun6();
            console.log(a);
            /*ƒ fun7(){
             *       document.write("我是fun7");
             *     }
             */
            a(); // 相当于调用fun7();
            fun6()(); // 相当于调用fun7();


            /**
             * 立即执行函数
             *  (function(){}) : 括号 + 匿名函数 就是一个立即执行函数
             * 可以直接使用()调用
             */
            (function(){
                document.write("我是一个立即执行函数");
            })();
            
            (function(a,b){
                console.log(a + b);
            })(233, 45); // 278
        </script>
    </head>
    <body>
    </body>
</html>